{"version":3,"file":"index.js","sources":["../src/helpers/caching/contentTypes/text.ts","../src/helpers/caching/db.ts","../src/contexts/BRIXBITContext.tsx","../src/helpers/combineMessageProcessors.ts","../src/helpers/combineCodecs.ts","../src/helpers/combineNamespaces.ts","../src/helpers/combineValidators.ts","../src/helpers/isValidAddress.ts","../src/helpers/caching/conversations.ts","../src/helpers/caching/messages.ts","../src/helpers/caching/consent.ts","../src/hooks/useClient.ts","../src/hooks/useDb.ts","../src/hooks/useConversation.ts","../src/hooks/useMessage.ts","../src/hooks/useConversations.ts","../src/hooks/useCachedConversations.ts","../src/hooks/useStartConversation.ts","../src/hooks/useStreamConversations.ts","../src/hooks/useLastMessage.ts","../src/hooks/useCanMessage.ts","../src/hooks/useMessages.ts","../src/hooks/useCachedMessages.ts","../src/hooks/useConsent.ts","../src/hooks/useCachedConsentEntries.ts","../src/hooks/useSendMessage.ts","../src/hooks/useResendMessage.ts","../src/hooks/useStreamAllMessages.ts","../src/hooks/useStreamMessages.ts","../src/hooks/useStreamConsentList.ts","../src/helpers/caching/contentTypes/attachment.ts","../src/hooks/useAttachment.ts","../src/hooks/useReactions.ts","../src/helpers/caching/contentTypes/reaction.ts","../src/helpers/caching/contentTypes/reply.ts","../src/hooks/useReply.ts","../src/hooks/useReplies.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["textContentTypeConfig","codecs","contentTypes","ContentTypeText","toString","namespace","validators","content","getDbInstance","options","db","Dexie","isOpen","customSchema","contentTypeConfigs","reduce","result","schema","version","stores","conversations","messages","consent","clearCache","async","Promise","all","tables","map","table","clear","defaultContentTypeConfigs","initialDb","BRIXBITContext","createContext","namespaces","processors","setClient","BRIXBITProvider","children","client","initialClient","dbVersion","useState","useMemo","config","update","Object","entries","updateResult","contentType","contentProcessors","combineMessageProcessors","combineCodecs","finalCacheConfig","includes","Error","push","namespacesResult","combineNamespaces","validatorContentTypes","forEach","validator","combineValidators","value","_jsx","Provider","isValidAddress","address","startsWith","length","getCachedConversationBy","walletAddress","key","conversationsTable","conversation","where","first","undefined","getCachedConversationByTopic","topic","getCachedConversationByPeerAddress","peerAddress","getConversationByTopic","listFromCache","some","convo","updateConversation","existing","equals","updateConversationMetadata","data","metadata","setConversationUpdatedAt","updatedAt","hasConversationTopic","toCachedConversation","context","createdAt","isReady","saveConversationMutex","Mutex","saveConversation","runExclusive","id","add","toCachedMessage","message","isSupported","contentBytes","contentFallback","conversationTopic","contentTopic","status","hasLoadError","hasSendError","isSending","senderAddress","sentAt","sent","uuid","v4","brixbitID","getMessageByBrixbitID","saveMessage","deleteMessage","messagesTable","delete","updateMessage","updateMessageMetadata","processQueue","processMessage","removeExisting","existingMessage","isContentValid","_updateConversationMetadata","processor","persistedMessage","isAfter","index","indexOf","splice","reprocessMessage","process","decode","decodeContent","getLastMessage","reverse","sortBy","getCachedConsentEntry","getCachedConsentEntries","consentTable","toArray","entry","ConsentListEntry","fromAddress","state","getCachedConsentEntriesMap","consentListEntries","fromEntries","getCachedConsentState","loadConsentListFromCache","cachedEntries","contacts","setConsentListEntries","putConsentStateMutex","putConsentState","put","bulkPutConsentState","bulkPut","useClient","onError","isLoading","setIsLoading","error","setError","initializingRef","useRef","useContext","initialize","useCallback","keys","signer","current","brixbitClient","Client","create","privateKeyOverride","e","reprocess","unprocessed","getUnprocessedMessages","unprocessedMessage","processUnprocessedMessages","disconnect","close","useDb","brixbitContext","_clearCache","useConversationInternal","_saveConversation","_updateConversation","updateMetadata","useConversation","getByTopic","getCachedByTopic","getCachedByPeerAddress","_getLastMessage","_hasConversationTopic","useMessage","_processMessage","_updateMessage","updateMessageAfterSending","sendOptions","_updateMessageAfterSending","_getMessageByBrixbitID","_deleteMessage","sendMessage","onSuccess","finalSendOptions","messageToProcess","preparedMessage","networkConversation","prepareMessage","Date","messageID","prepareMessageForSending","sentMessage","send","cachedMessage","resendMessage","useConversations","isLoaded","setIsLoaded","useLiveQuery","useCachedConversations","loadingRef","onConversations","useEffect","clientError","conversationList","list","cachedConversation","latestMessages","direction","SortDirection","SORT_DIRECTION_DESCENDING","limit","latestMessage","getConversations","useStartConversation","_sendMessage","conversationId","startConversation","newConversation","useStreamConversations","streamRef","endStreamRef","stream","return","onConversation","endStream","streamConversations","useLastMessage","filter","useCanMessage","canMessage","canMessageStatic","useMessages","useCachedMessages","disableAutoSync","onMessages","getMessages","startTime","syncFrom","min","lastSyncedAt","now","subSeconds","networkMessages","SORT_DIRECTION_ASCENDING","onVisibilityChange","document","hidden","addEventListener","removeEventListener","useConsent","useCachedConsentEntries","allow","addresses","skipPublish","deny","consentState","isAllowed","isDenied","loadConsentList","newEntries","permissionType","refreshConsentList","useSendMessage","useResendMessage","resend","cancel","useStreamAllMessages","onMessage","streamAllMessages","useStreamMessages","streamMessages","useStreamConsentList","onAction","streamConsentList","action","walletAddresses","block","NAMESPACE","getAttachment","ContentTypeAttachment","ContentTypeRemoteAttachment","AttachmentContentSchema","z","object","filename","string","mimeType","instanceof","Uint8Array","RemoveAttachmentContentSchema","url","contentDigest","salt","nonce","secret","scheme","contentLength","number","gte","attachmentContentTypeConfig","AttachmentCodec","RemoteAttachmentCodec","success","safeParse","defaultAutoloadMaxFileSize","useAttachment","setStatus","attachment","setAttachment","getAttachmentRef","disableAutoload","autoloadMaxFileSize","remoteAttachmentData","getRemoteAttachmentData","loadRemoteAttachment","force","loadedAttachment","load","updateAttachmentData","forceLoadRemoteAttachment","useReactions","reactionsTable","findReaction","reaction","reactionQuery","referenceBrixbitID","found","getReactionsByBrixbitID","hasReaction","ReactionContentSchema","reference","enum","isValidReactionContent","processReactionMutex","reactionContentTypeConfig","ReactionCodec","ContentTypeReaction","ContentTypeId","fromString","sameAs","cachedReaction","saveReaction","deleteReaction","reactions","updateReactionsMetadata","getReplies","repliesTable","replies","anyOf","reply","hasReply","getOriginalMessageFromReply","ContentTypeReply","ReplyContentSchema","any","authorityId","typeId","versionMajor","gt","versionMinor","isValidReplyContent","replyContentTypeConfig","ReplyCodec","replyBrixbitID","addReply","useReply","originalMessage","setOriginalMessage","msg","getOriginalMessage","useReplies"],"mappings":"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"}